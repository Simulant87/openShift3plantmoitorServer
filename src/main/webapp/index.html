<!doctype html>
<html>
<head>
  <title>Spring Boot OpenShift Demo</title>
</head>

<body>
	<h1>Hello World!</h1>
	GET on /ping to test a REST-Service.
	POST a String to /pong.
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.0.min.js"
		integrity="sha256-JAW99MJVpJBGcbzEuXk4Az05s/XyDdBomFqNlM3ic+I="
		crossorigin="anonymous"></script>

<p>Test</p>

<div class="container">
	<h2>Chart.js Line Chart Demo</h2>
	<div style="width:75%;">
		<canvas id="chart"></canvas>
	</div>
</div>
<script src="chart.js"></script>


<p id="demo">Let AJAX change this text.</p>

<button type="button" onclick="loadDoc()">Change Content</button>

<script>
function loadDoc() {
  var xhttp = new XMLHttpRequest();
  xhttp.open("GET", "http://webproject-simulant.rhcloud.com/temperature/clear", false);
  xhttp.send();
  var json = $.parseJSON(xhttp.responseText);
  var labelsData = [];
  var humidityData = [];
  var temperatureData = [];
  for(var i = 0; i < json.length; i++) {
    var measurement = json[i];
    labelsData.push(measurement.date);
    humidityData.push(measurement.humidityValue);
    temperatureData.push(measurement.temperatureValue);
  }
  console.log(labelsData);
  console.log(humidityData);
  console.log(temperatureData);
    document.getElementById("demo").innerHTML = labelsData;
    document.getElementById("demo").innerHTML = humidityData;
    document.getElementById("demo").innerHTML = temperatureData;
}
</script>
</html>
